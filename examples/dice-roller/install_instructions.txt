SECTION 2: INSTALLATION INSTRUCTIONS FOR THE USER
Step 1: Save the Files
bash# Create project directory
mkdir dice-mcp-server
cd dice-mcp-server

# Save all 5 files in this directory:
# - Dockerfile
# - requirements.txt
# - dice_server.py
# - readme.txt
# - CLAUDE.md
Step 2: Build Docker Image
bashdocker build -t dice-mcp-server .
Step 3: Create Custom Catalog
bash# Create catalogs directory if it doesn't exist
mkdir -p ~/.docker/mcp/catalogs

# Create or edit custom.yaml
nano ~/.docker/mcp/catalogs/custom.yaml
Add this entry to custom.yaml:
yamlversion: 2
name: custom
displayName: Custom MCP Servers
registry:
  dice:
    description: "Comprehensive dice rolling for tabletop games and randomization"
    title: "Dice Roller"
    type: server
    dateAdded: "2025-01-24T00:00:00Z"
    image: dice-mcp-server:latest
    ref: ""
    readme: ""
    toolsUrl: ""
    source: ""
    upstream: ""
    icon: ""
    tools:
      - name: flip_coin
      - name: roll_dice
      - name: roll_custom
      - name: roll_stats
      - name: roll_advantage
      - name: roll_disadvantage
      - name: roll_check
      - name: roll_initiative
    metadata:
      category: productivity
      tags:
        - gaming
        - dice
        - randomization
        - dnd
        - tabletop
      license: MIT
      owner: local
Step 4: Update Registry
bash# Edit registry file
nano ~/.docker/mcp/registry.yaml
Add this entry under the existing registry: key:
yamlregistry:
  # ... existing servers ...
  dice:
    ref: ""
IMPORTANT: The entry must be under the registry: key, not at the root level.
Step 5: Configure Claude Desktop
Find your Claude Desktop config file:

macOS: ~/Library/Application Support/Claude/claude_desktop_config.json
Windows: %APPDATA%\Claude\claude_desktop_config.json
Linux: ~/.config/Claude/claude_desktop_config.json

Edit the file and add your custom catalog to the args array:
json{
  "mcpServers": {
    "mcp-toolkit-gateway": {
      "command": "docker",
      "args": [
        "run",
        "-i",
        "--rm",
        "-v", "/var/run/docker.sock:/var/run/docker.sock",
        "-v", "[YOUR_HOME]/.docker/mcp:/mcp",
        "docker/mcp-gateway",
        "--catalog=/mcp/catalogs/docker-mcp.yaml",
        "--catalog=/mcp/catalogs/custom.yaml",
        "--config=/mcp/config.yaml",
        "--registry=/mcp/registry.yaml",
        "--tools-config=/mcp/tools.yaml",
        "--transport=stdio"
      ]
    }
  }
}
Replace [YOUR_HOME] with:

macOS: /Users/your_username
Windows: C:\\Users\\your_username (use double backslashes)
Linux: /home/your_username

Step 6: Restart Claude Desktop

Quit Claude Desktop completely
Start Claude Desktop again
Your dice rolling tools should appear!

Step 7: Test Your Server
bash# Verify it appears in the list
docker mcp server list

# Test the dice roller by asking Claude:
# "Roll 2d6 for me"
# "Generate D&D stats"
# "Flip a coin"
If you don't see your server, check Docker logs:
bashdocker logs $(docker ps -a | grep dice-mcp-server | awk '{print $1}')